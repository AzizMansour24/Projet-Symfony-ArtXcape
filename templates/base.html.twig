<!DOCTYPE html>
<html>
    <head>
        
        <meta charset="UTF-8">
        <title>{% block title %}ArtXcape{% endblock %}</title>
        <!-- Mobile Specific Metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Favicons - Place favicon.ico in the root directory -->
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/frontOffice/newimg/logoicon.png">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/assets/frontOffice/img/favicons/ms-icon-144x144.html">
        <meta name="theme-color" content="#ffffff">

        <!--==============================
        Google Fonts
        ============================== -->
        <link rel="preconnect" href="https://fonts.googleapis.com/">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&amp;family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet">
        {% block stylesheets %}
        <!--==============================
            All CSS File
        ============================== -->
        <!-- Bootstrap -->
        <link rel="stylesheet" href="/assets/frontOffice/css/bootstrap.min.css">
        <!-- Fontawesome Icon -->
        <link rel="stylesheet" href="/assets/frontOffice/css/all.min.css">
        <!-- Magnific Popup -->
        <link rel="stylesheet" href="/assets/frontOffice/css/magnific-popup.min.css">
        <!-- Slick Slider -->
        <link rel="stylesheet" href="/assets/frontOffice/css/slick.min.css">
        <!-- Odometer -->
        <link rel="stylesheet" href="/assets/frontOffice/css/odometer.css">
        <!-- Theme Custom CSS -->
        <link rel="stylesheet" href="/assets/frontOffice/css/style.css">
        <style>
            /* Styles pour l'avatar */
            .avatar-container {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                overflow: hidden;
                display: flex;
                align-items: center;
                justify-content: center;
                background: #f5f5f5;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                cursor: pointer;
            }

            .avatar-image {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }

            .avatar-container:hover .avatar-image {
                transform: scale(1.1);
            }

            /* Styles pour la modale */
            .modal2 {
                display: none;
                position: fixed;
                z-index: 9999;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.7);
                justify-content: center;
                align-items: center;
            }

            .modal-content2 {
                background-color: white;
                padding: 20px;
                border-radius: 10px;
                width: 60%;
                max-width: 800px;
                text-align: center;
                position: relative;
            }

            .close {
                position: absolute;
                top: 10px;
                right: 15px;
                font-size: 24px;
                cursor: pointer;
            }

            .close:hover {
                color: red;
            }
        </style>
        {% endblock %}
    </head>
    <body>
                        <!--********************************Code Start From Here ******************************** -->
                <!-- Cursor 
                <div class="cursor"></div>
                <div class="cursor-follower"></div>
                Cursor End -->
                <!--==============================Preloader==============================-->
                <div class="preloader ">
                    <div class="preloader-inner">
                        <img src="/assets/frontOffice/newimg/logo-white.png" alt="artxcape">
                        <span class="loader"></span>
                    </div>
                </div>
            <header class="nav-header header-layout1">
                <div class="header-top d-md-block d-none">
                    <div class="container">
                        <div class="row justify-content-center justify-content-lg-between align-items-center gy-2">
                            <div class="col-auto">
                                <div class="header-links">
                                    <ul>
                                        <li><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M15 11.0312L11.9375 9.71875C11.25 9.40625 10.4688 9.625 10 10.1875L9.15625 11.2188C7.75 10.4062 6.59375 9.25 5.78125 7.875L6.84375 7.03125C7.375 6.5625 7.59375 5.78125 7.3125 5.125L5.96875 2C5.65625 1.28125 4.875 0.875 4.09375 1.0625L1.25 1.71875C0.5 1.875 0 2.53125 0 3.3125C0 10.875 6.125 17 13.6875 17C14.4688 17 15.125 16.5 15.25 15.75L15.9062 12.9062C16.125 12.125 15.7188 11.3438 15 11.0312ZM14.4688 12.5625L13.8125 15.4062C13.8125 15.4375 13.75 15.5 13.6875 15.5C6.96875 15.5 1.46875 10.0312 1.46875 3.3125C1.46875 3.25 1.53125 3.1875 1.59375 3.1875L4.4375 2.53125L4.46875 2.5C4.53125 2.5 4.5625 2.5625 4.59375 2.59375L5.90625 5.65625C5.9375 5.71875 5.9375 5.78125 5.875 5.8125L4.34375 7.0625C4.09375 7.28125 4 7.65625 4.15625 7.96875C5.1875 10.0625 6.90625 11.7812 9 12.8125C9.3125 12.9688 9.71875 12.9062 9.9375 12.625L11.1875 11.0938C11.2188 11.0625 11.2812 11.0312 11.3438 11.0625L14.4062 12.375C14.4688 12.4375 14.5 12.5 14.4688 12.5625Z" fill="inherit"/>
                                            </svg>
                                            <a href="tel:99276059">Appellez nous</a></li>
                                        <li><i class="far fa-envelope"></i><a href="mailto:artxcape@gmail.com">Mail : artxcape@gmail.com</a></li>
                                        <li><i class="far fa-clock"></i>Mon - Fri: 8:00AM - 6:00PM</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sticky-wrapper">
                    <!-- Main Menu Area -->
                    <div class="menu-area">
                        <div class="container">
                            <div class="row align-items-center justify-content-between">
                                <div class="col-auto">
                                    <div class="header-logo">
                                        <a href="index.html"><img src="/assets/frontOffice/newimg/logo-black1.png" alt="logo"></a>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <nav class="main-menu d-none d-lg-inline-block">
                                        <ul>
                                            <li class="menu-item-has-children">
                                                <a href="/home">Acceuil</a>
                                            </li>
                                            <li class="menu-item-has-children">
                                                <a href="#">Galerie</a>
                                                <ul class="sub-menu">
                                                    <li><a href="/gallerie">Explorer</a></li>
                                                    {% if app.user %}
                                                        <li><a href="{{ path('ma_galerie', { 'id': app.user.id }) }}">Mon Espace</a></li>
                                                    {% else %}
                                                        <li><a href="{{ path('app_login') }}">Mon Espace</a></li>
                                                    {% endif %}
                                                </ul>
                                            </li>
                                            <li class="menu-item-has-children">
                                                <a href="/formation">Formations</a>
                                            </li>
                                            <li class="menu-item-has-children">
                                                <a href="/events">Events</a>
                                            </li>
                                             <li class="menu-item-has-children">
                                                <a href="/emploi">Emploi</a>
                                                <ul class="sub-menu">
                                                    <li><a href="{{ path('app_emploi') }}">Postuler</a></li>
                                                    <li><a href="{{ path('emploi_add') }}">Poster</a></li>
                                                    <li><a href="{{ path('mes_candidatures') }}">Mes candidatures</a></li>
                                                    <li><a href="{{ path('mes_emplois') }}">Mes emplois</a></li>
                                                </ul>
                                            </li>
                                            
                                            {% if app.user %}
                                                        <li><a href="/forum">Forum</a></li>
                                            {% else %}
                                                        <li><a href="{{ path('app_login') }}">Forum</a></li>
                                            {% endif %}
                                                
                                            
                                        </ul>
                                    </nav>
                                    <div class="navbar-right d-inline-flex d-lg-none">
                                        <button type="button" class="menu-toggle icon-btn"><i class="fas fa-bars"></i></button>
                                    </div>
                                </div>
                                <div class="col-auto">
                    <div class="header-button">
                        {% if app.user %}
                            <div class="user-info d-flex align-items-center">
                                {% if app.user.avatarUrl is defined and app.user.avatarUrl is not empty %}
                                    <div class="avatar-container me-2" id="openAvatarModal">
                                        <img src="{{ app.user.avatarUrl|replace({'.glb': '.png'}) }}" alt="Avatar" class="avatar-image">
                                    </div>
                                {% endif %}
                                <span class="user-name">{{ app.user.nom }} {{ app.user.prenom }}</span>
                                <a href="{{ path('app_logout') }}" class="btn btn-outline-danger ms-3">Déconnexion</a>
                            </div>
                            <a href="{{ path('notifications_list') }}" class="nav-link">
                                            <i class="fas fa-bell"></i>
                                            {% if app.user %}
                                                {% set unreadCount = render(controller('App\\Controller\\NotificationController::unreadCount')) %}
                                                {% if unreadCount > 0 %}
                                                    <span class="badge bg-danger">{{ unreadCount }}</span>
                                                {% endif %}
                                            {% endif %}
                                        </a>
                        {% else %}
                            <a href="{{ path('app_login') }}" class="btn">Se Connecter</a>
                            <a href="{{ path('app_register') }}" class="btn">S'inscrire</a>
                        {% endif %}
                    </div>
                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
             <!-- Avatar Modal -->
    {% if app.user and app.user.avatarUrl is defined and app.user.avatarUrl is not empty %}
    <div id="avatarModal" class="modal2">
        <div class="modal-content2">
            <span class="close">&times;</span>
            <iframe id="avatarIframe" width="100%" height="500px" style="border: none;" allowfullscreen></iframe>
        </div>
    </div>
    {% endif %}

    
        {% block body %}
        
        {% endblock %}
        <!--==============================
            Footer Area
        ==============================-->
        <footer class="footer-wrapper footer-layout1 overflow-hidden">    
            <div class="shape-mockup footer1-shape1 jump" data-top="20%" data-left="-2%">
                <img src="/assets/frontOffice/img/normal/footer-1-shape1.png" alt="img">
            </div>
            <div class="container">
                <div class="footer-top">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-sm-auto">
                            <div class="footer-logo mb-40 mb-sm-0">
                                <a href="index.html"><img src="/assets/frontOffice/newimg/logo-white.png" alt="logo"></a>
                            </div>
                        </div>
                        <div class="col-sm-auto">
                            <div class="social-btn style2">
                                <a href="https://www.facebook.com/profile.php?id=61572306699418&mibextid=wwXIfr"><i class="fab fa-facebook-f"></i></a>
                                <a href="https://www.instagram.com/artx.cape/"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="widget-area">
                    <div class="row justify-content-between">
                        <div class="col-md-6 col-xl-3 col-lg-4">
                            <div class="widget footer-widget">
                                <div class="widget-contact">
                                    <h3 class="widget_title">Contact Info</h3>
                                    <ul class="contact-info-list">
                                        <li>Reception: + 216 47 067 463</li>
                                        <li>Office: + 216 99 276 059</li>
                                        <li>E-mail: artxcape@gmail.com</li>
                                        <li>Address: Ghazela, Ariana</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-auto col-lg-4">
                            <div class="widget widget_nav_menu footer-widget">
                                <h3 class="widget_title">Information</h3>
                                <div class="menu-all-pages-container">
                                    <ul class="menu">
                                        <li><a href="#">Our Team</a></li>
                                        <li><a href="#">Faq's</a></li>
                                        <li><a href="#">Contact</a></li>
                                        <li><a href="#">What we do</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-auto col-lg-4">
                            <div class="widget widget_nav_menu footer-widget">
                                <h3 class="widget_title">Visitor Info </h3>
                                <div class="menu-all-pages-container">
                                    <ul class="menu">
                                        <li><a href="#">How To Find Us</a></li>
                                        <li><a href="#">Get Ticket</a></li>
                                        <li><a href="#">Join Events</a></li>
                                        <li><a href="#">Tours</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="widget footer-widget">
                                <h3 class="widget_title">Subscribe Now</h3>
                                <p class="footer-text">Don't worry we don't spam your email</p>
                                <form class="newsletter-form">
                                    <div class="form-group">
                                        <input class="form-control" type="email" placeholder="Email Address" required="">
                                    </div>
                                    <button type="submit" class="btn">SUBSCRIBE</button>
                                </form>
                            </div>
                        </div>                    
                    </div>
                </div>
                <div class="footer-menu-area">
                    <ul class="footer-menu-list">
                        <li>
                            <a href="index.html">HOME</a>
                        </li>
                        <li>
                            <a href="shop-2.html">GALERIE</a>
                        </li>
                        <li>
                            <a href="event.html">FORMATIONS</a>
                        </li>
                        <li>
                            <a href="event-4.html">EVENTS</a>
                        </li>
                        <li>
                            <a href="shop.html">JOBS</a>
                        </li>
                        <li>
                            <a href="contact.html">CONTACT</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="copyright-wrap text-center">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-auto align-self-center">
                            <p class="copyright-text text-white">© 2025 </p>
                            <p class="copyright-text text-white"><a href="#">ArtXcape.</a> All Rights Reserved.</p></div>
                    </div>                
                </div>
            </div>
        </footer>
        </div>
    </div>

    <!--********************************
			Code End  Here 
	******************************** -->

    <!-- Scroll To Top -->
    <div class="scroll-top">
        <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
            <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" style="transition: stroke-dashoffset 10ms linear 0s; stroke-dasharray: 307.919, 307.919; stroke-dashoffset: 307.919;"></path>
        </svg>
    </div>

        {% block javascripts %}
         <!--==============================
        All Js File
        ============================== -->
        <!-- Jquery -->
        <script src="/assets/frontOffice/js/vendor/jquery-3.7.1.min.js"></script>
        <!-- Slick Slider -->
        <script src="/assets/frontOffice/js/slick.min.js"></script>
        <!-- Bootstrap -->
        <script src="/assets/frontOffice/js/bootstrap.min.js"></script>
        <!-- Magnific Popup -->
        <script src="/assets/frontOffice/js/jquery.magnific-popup.min.js"></script>
        <!-- Counter Up -->
        <script src="/assets/frontOffice/js/jquery.counterup.min.js"></script>
        <!-- Range Slider -->
        <script src="/assets/frontOffice/js/jquery-ui.min.js"></script>
        
        <!-- Isotope Filter -->
        <script src="/assets/frontOffice/js/imagesloaded.pkgd.min.js"></script>
        <script src="/assets/frontOffice/js/isotope.pkgd.min.js"></script>
        
        <!-- ScrollTrigger -->
        <script src="/assets/frontOffice/js/ScrollTrigger.min.js"></script>
        <!-- ScrollSmoother -->
        <script src="/assets/frontOffice/js/ScrollSmoother.min.js"></script>
        <!-- ScrollToPlugin -->
        <script src="/assets/frontOffice/js/ScrollToPlugin.min.js"></script>
        <!-- SplitText -->
        <script src="/assets/frontOffice/js/SplitText.min.js"></script>
        <!-- Gsap -->
        <script src="/assets/frontOffice/js/gsap.min.js"></script>

        <!-- WOW JS -->
        <script src="/assets/frontOffice/js/waypoints.js"></script>
        <script src="/assets/frontOffice/js/wow.js"></script>
        
        <!-- Main Js File -->
        <script src="/assets/frontOffice/js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

         <!-- 3D Viewer Script -->
        {% if app.user and app.user.avatarUrl is defined and app.user.avatarUrl is not empty %}
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const modal = document.getElementById("avatarModal");
                const avatarContainer = document.getElementById("openAvatarModal");
                const closeBtn = document.querySelector(".close");
                const avatarIframe = document.getElementById("avatarIframe");

                function openModal() {
                    if (modal && avatarIframe) {
                        modal.style.display = "flex";
                        const modelUrl = "{{ app.user.avatarUrl|e('js') }}";
                        const viewerUrl = `https://gltf-viewer.donmccurdy.com/#model=${modelUrl}`;
                        avatarIframe.src = viewerUrl;
                    }
                }

                function closeModal() {
                    if (modal && avatarIframe) {
                        modal.style.display = "none";
                        avatarIframe.src = "";
                    }
                }

                if (avatarContainer) {
                    avatarContainer.addEventListener("click", function(event) {
                        event.preventDefault();
                        openModal();
                    });
                }

                if (closeBtn) {
                    closeBtn.addEventListener("click", function() {
                        closeModal();
                    });
                }

                window.addEventListener("click", function(event) {
                    if (event.target === modal) {
                        closeModal();
                    }
                });

                document.addEventListener("keydown", function(event) {
                    if (event.key === "Escape" && modal.style.display === "flex") {
                        closeModal();
                    }
                });
            });
        </script>
        {% endif %}
        {% endblock %}
    </body>
</html>